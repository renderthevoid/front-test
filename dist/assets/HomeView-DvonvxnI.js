import{d as v,o as r,c as u,a as e,r as y,n as U,F as L,b as C,e as B,p as D,f as A,w as I,t as Y,g as O,h as p,i as Z,j as z,k as V,l as h,m as f,q as b}from"./index-c3KQad-2.js";const T="/assets/image-q_7wsq2S.jpg",W={class:"button__content"},K=v({__name:"AppButton",props:{mode:{}},setup(l){return(a,o)=>(r(),u("button",{type:"button",class:U(["button",a.mode?`button_${a.mode}`:""])},[e("span",W,[y(a.$slots,"default",{},void 0)])],2))}}),g=(l,a)=>{const o=l.__vccOpts||l;for(const[i,d]of a)o[i]=d;return o},k=g(K,[["__scopeId","data-v-241e66fb"]]),Q=["value","placeholder"],R=v({__name:"AppInput",props:{modelValue:{},placeholder:{}},emits:["update:modelValue"],setup(l,{emit:a}){const o=l,i=a,d=_=>{i("update:modelValue",_.target.value)};return(_,s)=>(r(),u("input",{type:"text",class:"input",value:o.modelValue,onInput:d,placeholder:_.placeholder},null,40,Q))}}),X=g(R,[["__scopeId","data-v-f2652922"]]),ee=l=>(D("data-v-bbfd3c19"),l=l(),A(),l),te={class:"modal"},oe={class:"container"},se={class:"modal-right"},ne={class:"modal-right__wrapper"},le=ee(()=>e("span",null,[e("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M12 1.05L10.95 0L6 4.95L1.05 0L0 1.05L4.95 6L0 10.95L1.05 12L6 7.05L10.95 12L12 10.95L7.05 6L12 1.05Z",fill:"white"})])],-1)),ae=[le],ce={class:"modal-right__content"},ie={class:"modal-right__image"},de=["src"],re={class:"modal-right__lines"},_e={class:"modal-right__bottom"},ue=v({__name:"AsideBar",props:{imgSrc:{}},emits:["closeModal"],setup(l,{emit:a}){const o=a,i=()=>{o("closeModal")};return(d,_)=>(r(),u("aside",te,[e("div",oe,[e("div",se,[e("div",ne,[e("div",{class:"modal-right__top"},[e("div",{class:"modal-right__top-wrap"},[e("button",{type:"button",class:"modal-right__close",onClick:i},ae)])]),e("div",ce,[e("div",ie,[e("img",{src:d.imgSrc,alt:""},null,8,de)]),e("div",re,[(r(),u(L,null,C(5,s=>e("div",{class:"modal-right__line skeleton",key:s,style:B({width:`${Math.floor(Math.random()*200)}px`})},null,4)),64))])]),e("div",_e,[y(d.$slots,"default",{},void 0)])])])])]))}}),me=g(ue,[["__scopeId","data-v-bbfd3c19"]]),pe={class:"element"},ve={class:"element__wrapper"},ge={class:"element__image"},he=["src"],fe={class:"element__counter-item"},$e=v({__name:"GridElement",props:{id:{},img:{},counter:{}},emits:["counterClick"],setup(l,{emit:a}){const o=l;return(i,d)=>(r(),u("div",pe,[e("div",ve,[e("div",ge,[e("img",{src:o.img,alt:""},null,8,he)]),o.counter!==void 0?(r(),u("div",{key:0,class:"element__counter",onClick:d[0]||(d[0]=I(_=>i.$emit("counterClick"),["stop"]))},[e("div",fe,Y(o.counter),1)])):O("",!0),y(i.$slots,"default",{},void 0)])]))}}),we=g($e,[["__scopeId","data-v-2fbcab4d"]]),$=l=>(D("data-v-8318efa3"),l=l(),A(),l),be={class:"main"},ke={class:"container"},Le={class:"content"},Ce={class:"left"},Ie={class:"left__wrapper"},ye=$(()=>e("div",{class:"left__top"},[e("div",{class:"left__img"},[e("img",{src:T,alt:""})])],-1)),Se={class:"left__content loading"},Me=$(()=>e("div",{class:"left__line left__line_wide skeleton"},null,-1)),Ve={class:"grid-elements"},Be={key:0,class:"actions"},De={class:"actions__input"},Ae={class:"actions__btns"},Oe=["draggable","onDragstart","onDrop"],je=$(()=>e("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M12 1.05L10.95 0L6 4.95L1.05 0L0 1.05L4.95 6L0 10.95L1.05 12L6 7.05L10.95 12L12 10.95L7.05 6L12 1.05Z",fill:"white"})],-1)),Ne=[je],xe=$(()=>e("div",{class:"bottom__line skeleton"},null,-1)),Ee=v({__name:"HomeView",setup(l){const a=p(),o=p({}),i=p(!1),d=p(!1),_=p(""),s=p([{id:0,img:"/src/components/icons/GreenIcon.svg",counter:4},{id:1,img:"/src/components/icons/YellowIcon.svg",counter:2},{id:2,img:"/src/components/icons/PurpleIcon.svg",counter:5}]);function S(n,t){if(n.length<t){const m=t-n.length,c=Array(m).fill({});n.push(...c)}return n}Z(s,()=>{q()},{deep:!0}),z(()=>{localStorage.getItem("items")&&(s.value=JSON.parse(localStorage.getItem("items"))),S(s.value,25)});const j=n=>{a.value=n},N=()=>{a.value=null},x=n=>{const t=s.value[a.value],m=s.value[n];s.value[n]=t,s.value[a.value]=m},E=()=>{i.value=!0,d.value=!1},G=n=>{d.value=!1,o.value=n,i.value=!1},q=()=>{localStorage.setItem("items",JSON.stringify(s.value))},F=n=>{s.value=s.value.map(t=>t.id===n.id?{...t,counter:Number(_.value)}:t)},H=n=>{_.value="",d.value=!0,o.value=n,i.value=!1},J=n=>{s.value=s.value.map(t=>t.id===n.id?{}:t),i.value=!0},P=()=>{localStorage.clear(),s.value=[{id:0,img:"/src/components/icons/GreenIcon.svg",counter:4},{id:1,img:"/src/components/icons/YellowIcon.svg",counter:2},{id:2,img:"/src/components/icons/PurpleIcon.svg",counter:5}],S(s.value,25)};return(n,t)=>{var m;return r(),u("main",null,[e("div",be,[e("div",ke,[e("div",Le,[e("div",Ce,[e("div",Ie,[ye,e("div",Se,[Me,(r(),u(L,null,C(5,c=>e("div",{class:"left__line skeleton",key:c,style:B({width:`${Math.floor(Math.random()*200)}px`})},null,4)),64))])])]),e("div",Ve,[Object.keys(o.value).length&&!i.value?(r(),V(me,{key:0,"img-src":(m=o.value)==null?void 0:m.img,onCloseModal:E},{default:h(()=>[d.value?(r(),u("div",Be,[e("div",De,[f(X,{placeholder:"Введите количество",modelValue:_.value,"onUpdate:modelValue":t[0]||(t[0]=c=>_.value=c)},null,8,["modelValue"])]),e("div",Ae,[f(k,{mode:"primary",onClick:t[1]||(t[1]=c=>_.value="")},{default:h(()=>[b("Отмена")]),_:1}),f(k,{mode:"negative",onClick:t[2]||(t[2]=I(c=>F(o.value),["prevent"]))},{default:h(()=>[b("Подтвердить")]),_:1})])])):(r(),V(k,{key:1,mode:"negative",onClick:t[3]||(t[3]=c=>J(o.value))},{default:h(()=>[b("Удалить предмет")]),_:1}))]),_:1},8,["img-src"])):O("",!0),(r(!0),u(L,null,C(s.value,(c,M)=>(r(),u("div",{class:"draggable-element",key:c.id,draggable:Object.keys(c).length!==0,onDragstart:w=>j(M),onDragend:N,onDragover:t[4]||(t[4]=I(()=>{},["prevent"])),onDrop:w=>x(M)},[f(we,{img:c.img,counter:c.counter,onClick:w=>G(c),onCounterClick:w=>H(c)},null,8,["img","counter","onClick","onCounterClick"])],40,Oe))),128))]),e("div",{class:"content__bottom"},[e("div",{class:"bottom"},[e("div",{class:"bottom__wrapper"},[e("span",{class:"bottom__icon",onClick:P},Ne),xe])])])])])])])}}}),qe=g(Ee,[["__scopeId","data-v-8318efa3"]]);export{qe as default};
